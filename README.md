# Репозиторий с Домашней работой по ПИ

## Описание

Даннный проект был выполнен мною единолично. Данный репозиторий предоставляет собой базовое решение задачи титаника при помощи библиотеки sklern. Также реализовано веб-приложение, предоставляющая возможность отправки запросов по API к веб приложению. Описание каждого из endpoint вы можете найти в разделе ниже, а также по пути http://host/docs . Все методы открыты для любого пользователя, ввиду того, что данная работа была выполнена в рамках домашнего задания и все данные есть в открытом доступе

### Возможности API

- прогнозирование процента выживания пассажира (<host>/predict_survival/)
    Необходимо передать данные о пассажире:

    ```
    {"Pclass": <>,
    "Sex": <>,
    "Age": <>,
    "SibSp": <>,
    "Parch": <>,
    "Fare": <>,
    "Embarked": <>}
    ```
- запрос данных пассажира (<host>/passenger/{passenger_id})
- добавление новых пассажиров в dataset (<host>/add_passenger/)
    Необходимо передать данные о пассажире:

    ```
    {"Pclass": <>,
    "Sex": <>,
    "Age": <>,
    "SibSp": <>,
    "Parch": <>,
    "Fare": <>,
    "Embarked": <>}
    ```
- удаление пассажиров из dataset (<host>/delete_passenger/{passenger_id})

## Запуск

Для работы необходимо:

1. Создать виртуальное окружение

    Для Windows:

    ```bash
    python -m venv venv
    ```

    Для Linux/MacOS:

    ```bash
    python3 -m venv venv
    ```

2. Установка необходимых библиотек (команды необходимо выполнять в виртуальном окружении)

    ```bash
    pip install -r /path/to/requirements.txt
    ```

3. Запуск приложения без Docker осуществляется комнадой

    ```bash
    uvicorn main:app --reload        
    ```

## Дополнение

В данном разделе описаны файлы репозитория

- data_loader.py - скрипт, отвечающий за загрузку данных в базу данных
- ml_model.py - скрипт, представляющий собой решение классической задачи титаника
- models.py - скрипт, описывающий структуру хранения данных в базе данных
- main.py - основной скрипт, запускающий веб-приложение
- docker-compose и Dockerfile - файлы, необходимые для запуска проекта в docker
- titanic_model.pkl - файл, предоставляющий данные обученной модели
- titanic.db - файл базы данных
- Data_for_Titanic - папка, содержащая файлы с данными о пассажирах, полученные с сайта kaggle.com
- request_examples.ipynb - блокнот, позволяющий протестировать работу API